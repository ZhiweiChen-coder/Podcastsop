一、产品形态：播客文案编辑器（SOP 可视化）
目标用户流程（1 次上传 → 逐步生成 → 可编辑 → 导出）

上传逐字稿（docx / txt / srt）

选择“发稿用途”：公众号深度访谈 / 播客口播 / 社媒素材

逐步跑模块 A→E（每一步都能预览、编辑、回滚）

一键导出：docx / markdown / txt / srt（可选）

二、把 A→E 拆成 UI 可视化功能组件
左侧栏：项目控制台

输入区

上传文件

语言选择（中文/英文/双语）

说话人标签规则（“主持人/嘉宾/观众”等）

模型设置区

模型选择（OpenAI/DeepSeek/Qwen/本地）

温度、最大长度

“严格不增内容”开关（默认开启）

项目状态

当前版本号（v1/v2/v3…）

每个模块结果是否已生成（✅/⏳）

主区域：5 个模块 Tabs（A/B/C/D/E）

每个 Tab 结构一致（让用户非常好上手）：

Tab 内三栏布局：

左栏：输入（上一模块的输出可见）

中栏：LLM 生成结果（可再次生成、可复制）

右栏：差异对比与编辑区

“对比模式”：原文 vs 输出（高亮删改/新增）

“编辑器”：手动微调（编辑内容直接进入版本管理）

模块按钮：

运行本模块

重新生成（保留上一版）

保存为版本

下一步（写入 session_state）

三、版本管理（很关键，做成小但好用）

你做“编辑器”的核心体验来自这里：

每个模块输出保存成 history[module] = [ {version_id, text, time, settings} ]

支持：

回滚到某个版本

将当前编辑保存为新版本

导出时选择“用哪个版本”

四、后端逻辑（小项目也要清晰）
数据结构（建议）
project = {
  "meta": {"title": "...", "lang": "zh", "speakers": ["主持人","嘉宾"]},
  "input_raw": "...",
  "A": {"current": "...", "history": [...]},
  "B": {"current": "...", "history": [...]},
  "C": {"current": "...", "history": [...]},
  "D": {"current": "...", "history": [...]},
  "E": {"current": "...", "history": [...]}
}
核心函数（必须抽象出来）

run_module(module_name, input_text, constraints, style)

post_check(output_text)：做硬性校验（例如是否出现“未提及信息”、是否破坏主持人/嘉宾标签）

diff_view(original, output)：可选，高亮对比

五、你要的“提示词”：可直接驱动 A→E 分步生成

你现在的 SOP 很适合做成一个总系统提示词 + 每个模块的子提示词。

1) 总系统提示词（System Prompt）

用于固定你的“媒体总编 + 不增内容 + 严格模块顺序”规则。

你是一名媒体总编，负责执行“AI访谈自动编辑系统”。
用户会提供一段采访逐字稿。你必须严格按模块A→模块E顺序执行。
每个模块必须单独输出，不能合并。

通用硬规则：
- 不允许虚构内容
- 不允许加入外部资料
- 不允许总结未提及观点
- 保留主持人与嘉宾区分（说话人标签不得丢失或混淆）
- 除模块C/D/E的指定任务外，不得改写观点与立场
- 如遇到原文缺失信息，不可补写，只能保持空缺或提示“原文未提及”
2) 模块提示词模板（User Prompt Template）

你的编辑器里每个模块按钮点击时，就把 {input_text} 填进去发给模型。

模块A：重清洗引擎

【模块A：重清洗引擎（出版级处理）】
输入为采访逐字稿。请执行：
1. 删除所有口头禅
2. 删除重复表达
3. 合并碎片句
4. 修正语病与错别字
5. 统一术语（AI、3D、B端、C端等）
6. 保留主持人与嘉宾区分
7. 不总结、不改写观点、不升华

输出格式必须为：
《模块A 重清洗稿》
（直接给清洗后的全文）

逐字稿如下：
{input_text}

模块B：逻辑重排引擎

【模块B：逻辑重排引擎】
基于“模块A输出”，请：
1. 按时间线重排
2. 合并同一主题段落
3. 分成6-8个逻辑章节
4. 为每章写一句核心摘要
5. 不改变内容，不新增内容（只能移动、合并、删冗余）

输出格式必须为：
《模块B 结构化逻辑稿》
- 第1章 标题：...
  核心摘要：...
  正文：...
...
输入如下：
{input_text}

模块C：媒体成稿引擎

【模块C：媒体成稿引擎】
基于“模块B输出”，请生成公众号深度访谈稿：
1. 主标题 + 副标题
2. 主持人介绍
3. 嘉宾介绍
4. 改写为公众号深度访谈稿（保留Q&A形式）
5. 每章结尾写“本章总结（3点）”
6. 不新增采访中未出现的信息

输出格式必须为：
《模块C 发布版访谈稿》
（完整正文）

输入如下：
{input_text}

模块D：传播增强引擎

【模块D：传播增强引擎】
基于“模块C输出”，生成传播素材：
1. 3个不同风格标题
2. 1个互动式破冰问题
3. 5句金句（必须来自原访谈表达，可轻微润色但不改意思）
4. 3条社媒卡片文案（80字内）
5. 1条LinkedIn摘要（150字）
6. 1条公众号导语（120字）

输出格式必须为：
《模块D 传播素材包》

输入如下：
{input_text}

模块E：播客朗读优化版

【模块E：播客朗读优化版】
基于“模块C或模块B输出”（以输入为准），请：
1. 降低书面感
2. 增强自然过渡
3. 删除明显排版结构
4. 优化为主持人口播稿
5. 不新增信息、不虚构细节，保留事实与观点

输出格式必须为：
《模块E 播客录制稿》
（直接给口播稿）

输入如下：
{input_text}

你在编辑器里只要保证：A 用原稿，B 用 A 输出，C 用 B 输出，D 用 C 输出，E 用 C（或 B）输出。

六、Streamlit 一键部署：最小可用方案（推荐）
推荐部署平台

Streamlit Community Cloud：最简单，直接连 GitHub

Hugging Face Spaces（Streamlit）：也很方便

Render / Railway：适合加后端服务或数据库

最小功能清单（MVP）

文件上传 → 提取文本

A/B/C/D/E Tabs

每个 Tab：生成按钮 + 编辑框 + 保存版本

导出 markdown/txt（先不做 docx 也可以，后续加）

你需要准备的环境变量

OPENAI_API_KEY（或你用的模型 Key）

MODEL_NAME（可选）

七、给你一个“编辑器专用总提示词”（更适合产品内置）

这个适合做成 App 的“系统说明”，所有模块共用，减少输出跑偏。

你是播客与公众号访谈的专业编辑器。你的输出必须遵守：
- 不得虚构、不得新增原文未提及的信息
- 不得引用外部资料
- 保留说话人标签（主持人/嘉宾等），不得混淆
- 除非模块要求，否则不得总结、升华、改立场
- 必须按用户指定模块输出对应内容与格式
如果原文存在缺失、口误或不清晰，只能在不补写内容的前提下做最小修正或保留。